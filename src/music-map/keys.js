// let keys = [
//     'A0',  'Bb0', 'B0',
//     'C1',  'Db1', 'D1',  'Eb1', 'E1', 'F1',  'Gb1', 'G1',  'Ab1', 'A1',  'Bb1', 'B1',
//     'C2', 'Db2', 'D2',  'Eb2', 'E2',  'F2',  'Gb2', 'G2',  'Ab2', 'A2',  'Bb2', 'B2',
//     'C3',  'Db3', 'D3',  'Eb3', 'E3', 'F3',  'Gb3', 'G3',  'Ab3', 'A3',  'Bb3', 'B3',
//     'C4', 'Db4', 'D4',  'Eb4', 'E4',  'F4',  'Gb4', 'G4',  'Ab4', 'A4',  'Bb4', 'B4',
//     'C5',  'Db5', 'D5',  'Eb5', 'E5', 'F5',  'Gb5', 'G5',  'Ab5', 'A5',  'Bb5', 'B5',
//     'C6', 'Db6', 'D6',  'Eb6', 'E6',  'F6',  'Gb6', 'G6',  'Ab6', 'A6',  'Bb6', 'B6',
//     'C7',  'Db7', 'D7',  'Eb7', 'E7', 'F7',  'Gb7', 'G7',  'Ab7', 'A7',  'Bb7', 'B7',
//     'C8'
// ];

import audioData from '../audio/audio-data';


// // 1,2,3,4,5,6,7 表示音调

// // 1- 表示降一个八度 以此类推

// // 1+ 表示降一个八度 以此类推

// let keysIndex = [
//     '1----',  '1h----', '2----',
//     '1---', '1h---', '2---',  '2h---', '3---',  '4---',  '4h---', '5---',  '5h---', '6---',  '6h---', '7---',
//     '1--', '1h--', '2--',  '2h--', '3--',  '4--',  '4h--', '5--',  '5h--', '6--',  '6h--', '7--',
//     '1-', '1h-', '2-',  '2h-', '3-',  '4-',  '4h-', '5-',  '5h-', '6-',  '6h-', '7-',
//     '1', '1h', '2',  '2h', '3',  '4',  '4h', '5',  '5h', '6',  '6h', '7',
//     '1+', '1h+', '2+',  '2h+', '3+',  '4+',  '4h+', '5+',  '5h+', '6+',  '6h+', '7+',
//     '1++', '1h++', '2++',  '2h++', '3++',  '4++',  '4h++', '5++',  '5h++', '6++',  '6h++', '7++',
//     '1+++', '1h+++', '2+++',  '2h+++', '3+++',  '4+++',  '4h+++', '5+++',  '5h+++', '6+++',  '6h+++', '7+++',
//     '1++++'
// ];
let keyMap = {
    '1': 'C4',
    '2': 'D4',
    '3': 'E4',
    '4': 'F4',
    '5': 'G4',
    '6': 'A4',
    '7': 'B4',
    '1----': 'A0',
    '1h----': 'Bb0',
    '2----': 'B0',
    '1---': 'C1',
    '1h---': 'Db1',
    '2---': 'D1',
    '2h---': 'Eb1',
    '3---': 'E1',
    '4---': 'F1',
    '4h---': 'Gb1',
    '5---': 'G1',
    '5h---': 'Ab1',
    '6---': 'A1',
    '6h---': 'Bb1',
    '7---': 'B1',
    '1--': 'C2',
    '1h--': 'Db2',
    '2--': 'D2',
    '2h--': 'Eb2',
    '3--': 'E2',
    '4--': 'F2',
    '4h--': 'Gb2',
    '5--': 'G2',
    '5h--': 'Ab2',
    '6--': 'A2',
    '6h--': 'Bb2',
    '7--': 'B2',
    '1-': 'C3',
    '1h-': 'Db3',
    '2-': 'D3',
    '2h-': 'Eb3',
    '3-': 'E3',
    '4-': 'F3',
    '4h-': 'Gb3',
    '5-': 'G3',
    '5h-': 'Ab3',
    '6-': 'A3',
    '6h-': 'Bb3',
    '7-': 'B3',
    '1h': 'Db4',
    '2h': 'Eb4',
    '4h': 'Gb4',
    '5h': 'Ab4',
    '6h': 'Bb4',
    '1+': 'C5',
    '1h+': 'Db5',
    '2+': 'D5',
    '2h+': 'Eb5',
    '3+': 'E5',
    '4+': 'F5',
    '4h+': 'Gb5',
    '5+': 'G5',
    '5h+': 'Ab5',
    '6+': 'A5',
    '6h+': 'Bb5',
    '7+': 'B5',
    '1++': 'C6',
    '1h++': 'Db6',
    '2++': 'D6',
    '2h++': 'Eb6',
    '3++': 'E6',
    '4++': 'F6',
    '4h++': 'Gb6',
    '5++': 'G6',
    '5h++': 'Ab6',
    '6++': 'A6',
    '6h++': 'Bb6',
    '7++': 'B6',
    '1+++': 'C7',
    '1h+++': 'Db7',
    '2+++': 'D7',
    '2h+++': 'Eb7',
    '3+++': 'E7',
    '4+++': 'F7',
    '4h+++': 'Gb7',
    '5+++': 'G7',
    '5h+++': 'Ab7',
    '6+++': 'A7',
    '6h+++': 'Bb7',
    '7+++': 'B7',
    '1++++': 'C8'
};

let keyNumberMap = {
    '=': '4',
    '-': '3',
    '--': '2',
    '---': '1',
    '----': '0',
    '+': '5',
    '++': '6',
    '+++': '7',
    '++++': '8',
};

// 传入 = - + 音阶区域 返回 1- 1+ 音调
// 如传入 ['=', '-'] 表示只启用 c4和c3
export function getKeyIndexes (area) {
    let keyIndexes = Object.keys(keyMap); // 1- 1+

    if (!area) { // = - +
        return keyIndexes;
    }
    let areaNums = area.map(item => { // 1 2 3
        if (item === '') item = '=';
        return keyNumberMap[item];
    });

    return keyIndexes.filter(keyIndex => {
        let key = keyMap[keyIndex];
        let num = key[key.length - 1];
        return areaNums.indexOf(num) !== -1;
    });

}

export function getKeys (index) {
    return keyMap[index];
}

export function getAudioSrc (index) {
    return audioData[keyMap[index]];
}